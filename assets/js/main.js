"use strict";(()=>{var l=class{btnClass;panelClass;titleClass;listClass;showClass;starterNum;attrText;root;btn;panel;title;list;constructor(t,e={}){this.btnClass=e.btnClass||"fn-tab-btn",this.panelClass=e.panelClass||"fn-tab-panel",this.titleClass=e.titleClass||"fn-tab-title",this.listClass=e.listClass||"fn-tab-list",this.showClass=e.showClass||"is-show",this.starterNum=e.starterNum||0,this.attrText=e.attrText||{btnId:"tab-btn-",btnRole:"tab",panelId:"tab-panel-",panelRole:"panel",title:"tab-title"},this.root=t,this.btn=this.root.querySelectorAll(`.${this.btnClass}`),this.panel=this.root.querySelectorAll(`.${this.panelClass}`),this.title=this.root.querySelector(`.${this.titleClass}`),this.list=this.root.querySelector(`.${this.listClass}`)}init(){this.setting(),this.setStarterPanel(),this.addEvent()}setting(){for(let t=0;t<this.btn.length;t++)this.btn[t].id=`${this.attrText.btnId}${t}`,this.btn[t].role=this.attrText.btnRole,this.btn[t].setAttribute("aria-controls",`${this.attrText.panelId}${t}`),this.panel[t].id=`${this.attrText.panelId}${t}`,this.panel[t].role=this.attrText.panelRole,this.panel[t].setAttribute("aria-labelledby",`${this.attrText.btnId}${t}`);this.title&&(this.title.id=this.attrText.title,this.list?.setAttribute("aria-labelledby",this.attrText.title))}setStarterPanel(){this.switchPanel(this.starterNum)}addEvent(){this.btn.forEach((t,e)=>{t.addEventListener("click",this.switchPanel.bind(this,e))})}switchPanel(t,e=null){e instanceof MouseEvent&&e.currentTarget instanceof HTMLButtonElement&&e.currentTarget.getAttribute("aria-selected")==="true"||(this.btn.forEach((s,i)=>{t===i?s.setAttribute("aria-selected","true"):s.setAttribute("aria-selected","false")}),this.panel.forEach((s,i)=>{t===i?s.classList.add(this.showClass):s.classList.remove(this.showClass)}))}};var n=class{closeBtnClass;root;btn;closeBtn;id;isDialogOpen;constructor(t,e=0,s={}){this.closeBtnClass=s.closeBtnClass||"fn-dialog-close",this.root=t,this.btn=this.root.previousElementSibling,this.closeBtn=this.root.querySelectorAll(`.${this.closeBtnClass}`),this.id=`dialog-${e+1}`,this.isDialogOpen=!1}init(){this.setting(),this.addEvent()}setting(){this.root.id=this.id,this.btn.setAttribute("aria-haspopup","dialog"),this.btn.setAttribute("aria-expanded","false"),this.btn.setAttribute("aria-controls",this.root.id)}addEvent(){this.btn.addEventListener("click",this.openDialog.bind(this)),this.closeBtn.forEach(t=>{t.addEventListener("click",this.closeDialog.bind(this))}),this.root.addEventListener("click",this.detectOverlayClicked.bind(this)),document.addEventListener("keydown",this.keyDownHandler.bind(this))}openDialog(){this.isDialogOpen||(this.isDialogOpen=!0,this.root.showModal(),this.btn.setAttribute("aria-expanded",String(this.isDialogOpen)),document.documentElement.style.overflow="hidden")}closeDialog(){this.isDialogOpen&&(this.isDialogOpen=!1,this.root.close(),this.btn.setAttribute("aria-expanded",String(this.isDialogOpen)),document.documentElement.removeAttribute("style"))}detectOverlayClicked(t){t.target===this.root&&this.closeDialog()}keyDownHandler(t){(this.isDialogOpen&&t.key==="Escape"||t.key==="Esc")&&(t.preventDefault(),this.closeDialog())}};((a,t)=>{(()=>{let e=t.querySelector(".js-tab");if(!e)return;new l(e).init()})(),(()=>{let e=t.querySelector(".js-strength");if(!e)return;let s={btnClass:"fn-strength-btn",panelClass:"fn-strength-panel",titleClass:"fn-strength-title",listClass:"fn-strength-list"};new l(e,s).init()})(),(()=>{let e=t.querySelectorAll(".js-dialog");e.length&&e.forEach((s,i)=>{new n(s,i).init()})})()})(window,document);})();
